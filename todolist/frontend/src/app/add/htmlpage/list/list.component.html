<!-- <mat-spinner *ngIf="isLoading"></mat-spinner> -->
<main>
  <mat-card><mat-accordion multi="true">
    
    <mat-expansion-panel *ngFor="let task of tasks">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <!-- <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
            <mat-icon>menu</mat-icon>
          </button> -->
          <p><b>Title:</b> {{task.title}}</p>
          <!-- {{tasks}} -->
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="task-image">
        <img [src]="task.imagePath" [alt]="task.title">
      </div>
      <div>
        
        <p><b>Description:</b> {{task.description}}</p>
        <mat-action-row *ngIf="userIsAuthenticated && task.creator == userId">
          <button mat-button color="primary" [routerLink]="['/edit',task._id]">Edit</button>
          <button mat-button color="warn" (click)="onDelete(task._id)">DELETE</button>
        </mat-action-row>

      </div>
        
      
    </mat-expansion-panel>
  </mat-accordion>
  <mat-paginator [length]="totalTask"
              [pageSize]="pageSize"
              [pageSizeOptions]="pageSizeOptions"
              (page) = "onChangePage($event)"
              aria-label="Select page">
</mat-paginator>

  <!-- <p *ngIf="tasks?.length > 0">You have added {{tasks.length}} task</p> -->
  <p *ngIf="tasks.length == 0 && !isLoading">No Task Available</p>
</mat-card>

</main>